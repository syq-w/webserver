"use strict";(()=>{var he=Object.defineProperty;var a=(x,_)=>he(x,"name",{value:_,configurable:!0});(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[7807],{79535:(x,_,u)=>{var g=u(64463),p=u(59753),f=u(65935),l=u(82036);(0,p.on)("click",".js-codespaces-update-skus-url",e=>{const t=e.currentTarget;if(!t)return;const s=t.getAttribute("data-refname");if(document.querySelector("form.js-prefetch-codespace-location")&&s){const r=document.querySelector("[data-codespace-skus-url]"),v=r?r.getAttribute("data-codespace-skus-url"):"";if(v){const E=new URL(v,window.location.origin);E.searchParams.set("ref_name",s),r&&r.setAttribute("data-codespace-skus-url",E.toString()),r&&r.setAttribute("data-branch-has-changed","true")}}}),(0,p.on)("remote-input-error","#js-codespaces-repository-select",()=>{const e=document.querySelector("#js-codespaces-unable-load-repositories-warning");e.hidden=!1});function c(e){const t=new URL(document.location.href,window.location.origin),s=new URLSearchParams(t.search),o=["vscs_target"];for(const[r,v]of e.entries()){if(o.includes(r)||!v){s.delete(r);continue}s.set(r,v)}window.history.replaceState({},"",`?${s.toString()}`)}a(c,"updateNewCodespaceUrl"),(0,f.AC)(".js-new-codespace-form",async function(e,t){const s=e.closest("[data-replace-remote-form-target]"),o=s.querySelector(".js-new-codespace-submit-button");o instanceof HTMLInputElement&&(o.disabled=!0),e.classList.remove("is-error"),e.classList.add("is-loading");try{const r=await t.html();if(r.status!==200&&i(),s.replaceWith(r.html),s.getAttribute("data-allow-update-url")==="true"){const v=new FormData(document.querySelector("form.js-new-codespace-form"));c(v)}}catch{i()}});function i(){const e=new URL(document.location.href,window.location.origin),t=new URLSearchParams(e.search);t.set("response_error","true"),window.location.replace(`${window.location.pathname}?${t.toString()}`)}a(i,"resetNewCodespacePageWithResponseError");let d=null;function S(e){d=e,e!==null&&document.querySelector(".js-codespace-loading-steps").setAttribute("data-current-state",d)}a(S,"advanceLoadingState"),(0,g.N7)(".js-codespace-loading-steps",{constructor:HTMLElement,add:e=>{const t=e.getAttribute("data-current-state");t&&S(t)}}),(0,g.N7)(".js-codespace-advance-state",{constructor:HTMLElement,add:e=>{const t=e.getAttribute("data-state");t&&S(t)}});let m=null;function b(e){(0,f.AC)(".js-fetch-cascade-token",async function(t,s){try{m=(await s.json()).json.token}catch{}}),(0,l.Bt)(e)}a(b,"fetchCascadeToken");function C(e,t,s){if(document.querySelector(e)){const r=Date.now(),E=setInterval(a(()=>{const J=Date.now()-r;if(m||J>=s){clearInterval(E),t(m||void 0);return}},"checkToken"),50)}}a(C,"waitForCascadeTokenWithTimeout"),(0,g.N7)(".js-auto-submit-form",{constructor:HTMLFormElement,initialize:l.Bt}),(0,g.N7)(".js-workbench-form-container",{constructor:HTMLElement,add:e=>{const t=e.querySelector(".js-cascade-token");O(e,t)}});function O(e,t){if(t.value!==""){const s=e.querySelector("form");(0,l.Bt)(s)}else{const s=document.querySelector(".js-fetch-cascade-token");b(s),C(".js-workbench-form-container",w,1e4)}}a(O,"resolveCascadeToken");function w(e){const t=document.querySelector(".js-workbench-form-container form");t&&e?(y(t,e),T(t,e),(0,l.Bt)(t)):S("failed")}a(w,"insertCodespaceTokenIntoShowAuthForm");function y(e,t){const s=e.querySelector(".js-cascade-token");s&&s.setAttribute("value",t)}a(y,"insertCodespaceTokenIntoCascadeField");function T(e,t){const s=e.querySelector(".js-partner-info");if(s){let o=s.getAttribute("value");o&&(o=o.replace("%CASCADE_TOKEN_PLACEHOLDER%",t),s.setAttribute("value",o))}}a(T,"insertCodespaceTokenIntoPartnerInfo");var n=u(90420),h=u(69567),L=u(51374),k=u(10900),A=u(83956);(0,p.on)("submit",".js-toggle-hidden-codespace-form",function(e){const t=e.currentTarget;I(t)}),(0,p.on)("click",".js-create-codespace-with-sku-button",async function(e){const t=e.currentTarget,s=t.closest("[data-target*='new-codespace.createCodespaceForm']")||t.closest("[data-target*='new-codespace.createCodespaceWithSkuSelectForm']");await(0,A.M)(s),s.classList.contains("js-open-in-vscode-form")?(I(s),q(s)):(s.submit(),H())});function I(e){const t=e.querySelectorAll(".js-toggle-hidden");for(const o of t)o.hidden=!o.hidden;const s=e.querySelectorAll(".js-toggle-disabled");for(const o of s)o.getAttribute("aria-disabled")?o.removeAttribute("aria-disabled"):o.setAttribute("aria-disabled","true")}a(I,"toggleFormSubmissionInFlight");function M(e){return e.closest("[data-replace-remote-form-target]")}a(M,"getFormTarget");async function H(){const e=document.querySelector(".js-codespaces-details-container");e&&(e.open=!1);const t=document.querySelector("new-codespace");if(t&&!t.getAttribute("data-no-submit-on-create"))try{const s=await fetch("/codespaces/new");if(s&&s.ok){const o=(0,k.r)(document,await s.text());t.replaceWith(o)}}catch{}}a(H,"createFormSubmitted"),(0,p.on)("submit",".js-create-codespaces-form-command",function(e){const t=e.currentTarget;t.classList.contains("js-open-in-vscode-form")||(H(),I(t))}),(0,p.on)("submit","form.js-codespaces-delete-form",async function(e){e.preventDefault();const t=e.currentTarget;try{const s=await fetch(t.action,{method:t.method,body:new FormData(t),headers:{Accept:"text/fragment+html","X-Requested-With":"XMLHttpRequest"}});if(s.ok){const o=(0,k.r)(document,await s.text());M(t).replaceWith(o)}else if(s.status===401)t.submit();else throw new Error(`Unexpected response: ${s.statusText}`)}finally{I(t)}}),(0,p.on)("submit","form.js-open-in-vscode-form",async function(e){e.preventDefault();const t=e.currentTarget;await q(t)});async function U(e,t){const s=document.querySelector(`#${e}`),o=await(0,L.W)({content:s.content.cloneNode(!0),dialogClass:"project-dialog"});return t&&t.setAttribute("aria-expanded","true"),o.addEventListener("dialog:remove",function(){t&&I(t)},{once:!0}),o}a(U,"openDialog");async function q(e){const t=await fetch(e.action,{method:e.method,body:new FormData(e),headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(t.ok){const s=await t.json();s.codespace_url?(window.location.href=s.codespace_url,I(e),H(),$()):(e.closest("get-repo")||e.closest("new-codespace")?(e.setAttribute("data-src",s.loading_url),e.dispatchEvent(new CustomEvent("pollvscode"))):(e.closest("prefetch-pane")||e.closest("create-button"))&&(e.setAttribute("data-src",s.loading_url),e.dispatchEvent(new CustomEvent("prpollvscode"))),I(e))}else if(t.status===422){const s=await t.json();if(s.error_type==="concurrency_limit_error")await U("concurrency-error",e);else{const o=document.querySelector("template.js-flash-template"),r=s.error;o.after(new h.R(o,{className:"flash-error",message:r})),I(e)}}}a(q,"createCodespaceIntoVscode");async function $(){const e=document.querySelector(".js-codespaces-completable"),t=e&&e.getAttribute("data-src");if(!t)return;const s=await fetch(t,{method:"GET",headers:{Accept:"text/fragment+html","X-Requested-With":"XMLHttpRequest"}});if(s.ok){const o=(0,k.r)(document,await s.text());e.replaceWith(o)}else throw new Error(`Unexpected response: ${s.statusText}`)}a($,"renderAllDone");var V=Object.defineProperty,Y=Object.getOwnPropertyDescriptor,ee=a((e,t,s,o)=>{for(var r=o>1?void 0:o?Y(t,s):t,v=e.length-1,E;v>=0;v--)(E=e[v])&&(r=(o?E(t,s,r):E(r))||r);return o&&r&&V(t,s,r),r},"__decorateClass");let Z=a(class extends HTMLElement{async connectedCallback(){U("concurrency-error")}},"ConcurrencyLimitElement");Z=ee([n.Ih],Z);var te=Object.defineProperty,ne=Object.getOwnPropertyDescriptor,D=a((e,t,s,o)=>{for(var r=o>1?void 0:o?ne(t,s):t,v=e.length-1,E;v>=0;v--)(E=e[v])&&(r=(o?E(t,s,r):E(r))||r);return o&&r&&te(t,s,r),r},"new_codespace_element_decorateClass");let P=a(class extends HTMLElement{constructor(){super(...arguments);this.noPrefetch=!1}async connectedCallback(){const e=new URL(document.location.href,window.location.origin),t=new URLSearchParams(e.search);if(t.has("response_error")&&(t.delete("response_error"),window.history.replaceState({},"",`?${t.toString()}`)),!this.noPrefetch){const s=this.formForLocations();if(s){const o=await(0,A.M)(s,!this.vscsLocationList);this.updatePickableLocations(o)}}}formForLocations(){return this.advancedOptionsForm||this.createCodespaceForm}toggleLoadingVscode(){const e=this.loadingVscode.hidden,t=this.children;for(let s=0;s<t.length;s++)t[s].hidden=e;this.loadingVscode.hidden=!e}machineTypeSelected(e){const s=e.currentTarget.getAttribute("data-sku-name");this.skuNameInput&&s&&(this.skuNameInput.value=s),this.advancedOptionsForm&&this.advancedOptionsForm.requestSubmit()}pollForVscode(e){this.toggleLoadingVscode();const t=e.currentTarget.getAttribute("data-src");t&&this.vscodePoller.setAttribute("src",t)}async updatePickableLocations(e){const t=this.formForLocations();if(!e&&t){const r=t.getAttribute("data-codespace-locations-url");if(!r)return;e=await(0,A.W)(r)}const s=e.current,o=e.available;this.hideUnavailableLocations(o),this.preventSubmissionOfUnavailableLocation(o,s)}hideUnavailableLocations(e){if(!!this.vscsLocationList)if(this.advancedOptionsForm){const t=this.vscsLocationList.querySelectorAll(".select-menu-item");for(const s of t){const o=s.querySelector("input");if(o&&e.includes(o.getAttribute("data-location"))){s.removeAttribute("hidden");continue}o&&(o.removeAttribute("checked"),o.setAttribute("aria-checked","false")),s.setAttribute("hidden","hidden")}}else{const t=this.vscsLocationList.querySelectorAll(".SelectMenu-item");for(const s of t)e.includes(s.getAttribute("data-location"))?s.removeAttribute("hidden"):s.setAttribute("hidden","hidden")}}preventSubmissionOfUnavailableLocation(e,t){if(this.createCodespaceForm){const s=this.createCodespaceForm.querySelector('[name="codespace[location]"]');s&&!e.includes(s.value)&&(s.value=t)}if(this.advancedOptionsForm){const s=this.advancedOptionsForm.querySelector('[name="location"]');s&&!e.includes(s.value)&&(s.value=t),!this.advancedOptionsForm.querySelector('[name="location"]:checked')&&(this.selectedLocation&&this.selectedLocation.setAttribute("hidden","hidden"),this.needsSelectedLocation&&this.needsSelectedLocation.removeAttribute("hidden"))}}vscsTargetUrlUpdated(e){const t=e.currentTarget;this.vscsTargetUrl.value=t.value}},"NewCodespaceElement");D([n.fA],P.prototype,"form",2),D([n.fA],P.prototype,"createCodespaceForm",2),D([n.fA],P.prototype,"createCodespaceWithSkuSelectForm",2),D([n.fA],P.prototype,"vscsTargetUrl",2),D([n.fA],P.prototype,"vscsLocationList",2),D([n.fA],P.prototype,"loadingVscode",2),D([n.fA],P.prototype,"vscodePoller",2),D([n.fA],P.prototype,"advancedOptionsForm",2),D([n.fA],P.prototype,"locationResubmitParam",2),D([n.fA],P.prototype,"skuNameInput",2),D([n.fA],P.prototype,"selectedLocation",2),D([n.fA],P.prototype,"needsSelectedLocation",2),D([n.Lj],P.prototype,"noPrefetch",2),P=D([n.Ih],P);var se=Object.defineProperty,oe=Object.getOwnPropertyDescriptor,K=a((e,t,s,o)=>{for(var r=o>1?void 0:o?oe(t,s):t,v=e.length-1,E;v>=0;v--)(E=e[v])&&(r=(o?E(t,s,r):E(r))||r);return o&&r&&se(t,s,r),r},"export_branch_element_decorateClass");let W=a(class extends HTMLElement{constructor(){super(...arguments);this.abortPoll=null}connectedCallback(){this.abortPoll=new AbortController,this.loadingIndicator.hidden||this.startPoll()}disconnectedCallback(){var e;(e=this.abortPoll)==null||e.abort()}async exportBranch(e){e.preventDefault(),this.form.hidden=!0,this.loadingIndicator.hidden=!1,(await fetch(this.form.action,{method:this.form.method,body:new FormData(this.form),headers:{Accept:"text/fragment+html","X-Requested-With":"XMLHttpRequest"}})).ok?this.startPoll():(this.form.hidden=!1,this.loadingIndicator.hidden=!0)}async startPoll(){const e=this.getAttribute("data-exported-codespace-url")||"",t=await this.poll(e);if(t)if(t.ok)this.loadingIndicator.hidden=!0,this.viewBranchLink.hidden=!1;else{const s=this.getAttribute("data-export-error-redirect-url")||"";window.location.href=s}}async poll(e,t=1e3){var s,o;if((s=this.abortPoll)==null?void 0:s.signal.aborted)return;const r=await fetch(e,{signal:(o=this.abortPoll)==null?void 0:o.signal});return r.status===202?(await new Promise(v=>setTimeout(v,t)),this.poll(e,t*1.5)):r}},"ExportBranchElement");K([n.fA],W.prototype,"form",2),K([n.fA],W.prototype,"loadingIndicator",2),K([n.fA],W.prototype,"viewBranchLink",2),W=K([n.Ih],W);var ie=u(52660),re=Object.defineProperty,ae=Object.getOwnPropertyDescriptor,B=a((e,t,s,o)=>{for(var r=o>1?void 0:o?ae(t,s):t,v=e.length-1,E;v>=0;v--)(E=e[v])&&(r=(o?E(t,s,r):E(r))||r);return o&&r&&re(t,s,r),r},"options_popover_element_decorateClass");let j=a(class extends HTMLElement{reset(e){for(e.preventDefault(),this.dropdownDetails.hidden=!1,this.modalDetails.hidden=!0,this.exportDetails.hidden=!0,this.skuForm.hidden=!1;this.resultMessage.firstChild;)this.resultMessage.removeChild(this.resultMessage.firstChild);this.resultMessage.hidden=!0,this.errorMessage.hidden=!0}showSettingsModal(){this.dropdownDetails.hidden=!0,this.modalDetails.open=!0,this.modalDetails.hidden=!1}showExportModal(){this.dropdownDetails.hidden=!0,this.exportDetails.open=!0,this.exportDetails.hidden=!1,this.insertBranchExportComponent()}async insertBranchExportComponent(){const e=this.querySelector("[data-branch-export-url]");if(!e)return;const t=e.getAttribute("data-branch-export-url");if(!t)return;const s=await(0,ie.a)(document,t);!s||(e.innerHTML="",e.appendChild(s))}},"OptionsPopoverElement");B([n.fA],j.prototype,"dropdownDetails",2),B([n.fA],j.prototype,"modalDetails",2),B([n.fA],j.prototype,"settingsModal",2),B([n.fA],j.prototype,"skuForm",2),B([n.fA],j.prototype,"resultMessage",2),B([n.fA],j.prototype,"errorMessage",2),B([n.fA],j.prototype,"exportDetails",2),j=B([n.Ih],j);var ce=Object.defineProperty,le=Object.getOwnPropertyDescriptor,F=a((e,t,s,o)=>{for(var r=o>1?void 0:o?le(t,s):t,v=e.length-1,E;v>=0;v--)(E=e[v])&&(r=(o?E(t,s,r):E(r))||r);return o&&r&&ce(t,s,r),r},"prefetch_pane_element_decorateClass");let R=a(class extends HTMLElement{constructor(){super(...arguments);this.prefetching=!1,this.remainingRetries=3}async connectedCallback(){this.openSkuButton&&this.skipSkuButton?(await this.prefetchLocationAndSkus(),this.hideSpinner(),this.hidden=!1):this.showOpenSkuButton()}async prefetchLocationAndSkus(){const e=this.getAttribute("data-branch-has-changed")==="true";if(this.prefetching&&!e)return;const t=document.querySelector("form.js-prefetch-codespace-location")||document.querySelector("form.js-open-in-vscode-form");if(t){this.prefetching=!0;const s=await(0,A.M)(t);if(s&&(this.currentLocation=s.current),!this.skuSelect)return;const o=this.getAttribute("data-codespace-skus-url"),r=this.currentLocation||(t.querySelector('[name="codespace[location]"]')||{}).value;if(r&&o){const v=await fetch(`${o}&location=${r}`,{headers:{"X-Requested-With":"XMLHttpRequest",Accept:"text/html_fragment"}});if(v.ok){this.setAttribute("data-branch-has-changed","false");const E=(0,k.r)(document,await v.text()),X=Array.from(E.querySelectorAll("input[name='codespace[sku_name]']")).filter(N=>!N.disabled),G=X.find(N=>N.checked);G&&this.defaultSkuPreview?(this.defaultSkuPreview.innerHTML=G.getAttribute("data-preview")||"",this.showSkipSkuButton()):X.length===1?(G||X[0].select(),this.showSkipSkuButton()):this.disableDropDownButton(),this.skuSelect.replaceWith(E),this.skuSelect.hidden=!1,this.skuError&&(this.skuError.hidden=!0)}else this.showOpenSkuButton(),this.remainingRetries-=1,this.remainingRetries>0&&(this.prefetching=!1),this.skuSelect.hidden=!0,this.skuError&&(this.skuError.hidden=!1)}}}showOpenSkuButton(){var e;this.shownButton===void 0&&this.openSkuButton&&(this.shownButton=this.openSkuButton,this.shownButton.hidden=!1,(e=this.skipSkuButton)==null||e.remove())}hideSpinner(){const e=document.querySelector("[data-target='codespacesCreateButtonSpinner']");e&&(e.hidden=!0)}disableDropDownButton(){this.dropdownButton&&(this.useAdvancedCreation(),this.dropdownButton.style.pointerEvents="none",this.dropdownButton.classList.add("color-fg-muted"))}showSkipSkuButton(){var e,t;if(this.shownButton===void 0&&this.skipSkuButton){this.shownButton=this.skipSkuButton,this.shownButton.hidden=!1;const s=(e=this.openSkuButton)==null?void 0:e.parentElement;s&&s instanceof HTMLDetailsElement&&(s.hidden=!0),(t=this.openSkuButton)==null||t.remove()}}toggleLoadingVscode(){if(this.loadingVscode){const e=this.loadingVscode.hidden,t=this.children;for(let s=0;s<t.length;s++)t[s].hidden=e;this.loadingVscode.hidden=!e}}pollForVscode(e){if(this.vscodePoller){this.toggleLoadingVscode();const t=e.currentTarget.getAttribute("data-src");t&&this.vscodePoller.setAttribute("src",t)}}useBasicCreation(){this.advancedOptionsLink&&(this.openSkuButton&&(this.openSkuButton.hidden=!1),this.skipSkuButton&&(this.skipSkuButton.hidden=!1),this.advancedOptionsLink&&(this.advancedOptionsLink.hidden=!0)),this.basicOptionsCheck&&this.basicOptionsCheck.classList.remove("v-hidden"),this.advancedOptionsCheck&&this.advancedOptionsCheck.classList.add("v-hidden"),this.selectionDetails.open=!1}useAdvancedCreation(){this.advancedOptionsLink&&(this.openSkuButton&&(this.openSkuButton.hidden=!0),this.skipSkuButton&&(this.skipSkuButton.hidden=!0),this.advancedOptionsLink.hidden=!1),this.basicOptionsCheck&&this.basicOptionsCheck.classList.add("v-hidden"),this.advancedOptionsCheck&&this.advancedOptionsCheck.classList.remove("v-hidden"),this.selectionDetails.open=!1}},"PrefetchPaneElement");F([n.fA],R.prototype,"skuSelect",2),F([n.fA],R.prototype,"skuError",2),F([n.fA],R.prototype,"selectionDetails",2),F([n.fA],R.prototype,"loadingVscode",2),F([n.fA],R.prototype,"vscodePoller",2),F([n.fA],R.prototype,"openSkuButton",2),F([n.fA],R.prototype,"skipSkuButton",2),F([n.fA],R.prototype,"defaultSkuPreview",2),F([n.fA],R.prototype,"dropdownButton",2),F([n.fA],R.prototype,"advancedOptionsLink",2),F([n.fA],R.prototype,"basicOptionsCheck",2),F([n.fA],R.prototype,"advancedOptionsCheck",2),R=F([n.Ih],R);var de=Object.defineProperty,ue=Object.getOwnPropertyDescriptor,Q=a((e,t,s,o)=>{for(var r=o>1?void 0:o?ue(t,s):t,v=e.length-1,E;v>=0;v--)(E=e[v])&&(r=(o?E(t,s,r):E(r))||r);return o&&r&&de(t,s,r),r},"vscode_forwarder_element_decorateClass");let z=a(class extends HTMLElement{async connectedCallback(){this.closeDetailsPopover();const e=this.getAttribute("data-codespace-url");e&&(window.location.href=e)}closeDetailsPopover(){const e=document.querySelector(".js-codespaces-details-container");e&&(e.open=!1)}},"VscodeForwarderElement");Q([n.fA],z.prototype,"vscodeLink",2),z=Q([n.Ih],z);var fe=u(9115),pe=u(68906)},52134:(x,_,u)=>{u.d(_,{H:()=>f,v:()=>p});var g=u(59753);function p(){const l=document.getElementById("ajax-error-message");l&&(l.hidden=!1)}a(p,"showGlobalError");function f(){const l=document.getElementById("ajax-error-message");l&&(l.hidden=!0)}a(f,"hideGlobalError"),(0,g.on)("deprecatedAjaxError","[data-remote]",function(l){const c=l.detail,{error:i,text:d}=c;l.currentTarget===l.target&&(i==="abort"||i==="canceled"||(/<html/.test(d)?(p(),l.stopImmediatePropagation()):setTimeout(function(){l.defaultPrevented||p()},0)))}),(0,g.on)("deprecatedAjaxSend","[data-remote]",function(){f()}),(0,g.on)("click",".js-ajax-error-dismiss",function(){f()})},51374:(x,_,u)=>{u.d(_,{W:()=>p});var g=u(59753);async function p(f){const c=document.querySelector("#site-details-dialog").content.cloneNode(!0),i=c.querySelector("details"),d=i.querySelector("details-dialog"),S=i.querySelector(".js-details-dialog-spinner");f.detailsClass&&i.classList.add(...f.detailsClass.split(" ")),f.dialogClass&&d.classList.add(...f.dialogClass.split(" ")),f.label?d.setAttribute("aria-label",f.label):f.labelledBy&&d.setAttribute("aria-labelledby",f.labelledBy),document.body.append(c);const m=await f.content;return S.remove(),d.prepend(m),i.addEventListener("toggle",()=>{i.hasAttribute("open")||((0,g.f)(d,"dialog:remove"),i.remove())}),d}a(p,"dialog")},34782:(x,_,u)=>{u.d(_,{C:()=>p,x:()=>g});const g=function(){return document.readyState==="interactive"||document.readyState==="complete"?Promise.resolve():new Promise(f=>{document.addEventListener("DOMContentLoaded",()=>{f()})})}(),p=function(){return document.readyState==="complete"?Promise.resolve():new Promise(f=>{window.addEventListener("load",f)})}()},52660:(x,_,u)=>{u.d(_,{D:()=>l,a:()=>f});var g=u(2699),p=u(10900);async function f(c,i,d){const S=new Request(i,d);S.headers.append("X-Requested-With","XMLHttpRequest");const m=await self.fetch(S);if(m.status<200||m.status>=300)throw new Error(`HTTP ${m.status}${m.statusText||""}`);return(0,g.t)((0,g.P)(c),m),(0,p.r)(c,await m.text())}a(f,"fetchSafeDocumentFragment");function l(c,i,d=1e3){return a(async function S(m){const b=new Request(c,i);b.headers.append("X-Requested-With","XMLHttpRequest");const C=await self.fetch(b);if(C.status<200||C.status>=300)throw new Error(`HTTP ${C.status}${C.statusText||""}`);if(C.status===200)return C;if(C.status===202)return await new Promise(O=>setTimeout(O,m)),S(m*1.5);throw new Error(`Unexpected ${C.status} response status from poll endpoint`)},"poll")(d)}a(l,"fetchPoll")},82036:(x,_,u)=>{u.d(_,{Bt:()=>c,DN:()=>S,KL:()=>C,Se:()=>d,qC:()=>O,sw:()=>m});var g=u(59753),p=u(90137),f=u(52134);(0,g.on)("click",".js-remote-submit-button",async function(w){const T=w.currentTarget.form;w.preventDefault();let n;try{n=await fetch(T.action,{method:T.method,body:new FormData(T),headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}})}catch{}n&&!n.ok&&(0,f.v)()});function l(w,y,T){return w.dispatchEvent(new CustomEvent(y,{bubbles:!0,cancelable:T}))}a(l,"fire");function c(w,y){y&&(i(w,y),(0,p.j)(y)),l(w,"submit",!0)&&w.submit()}a(c,"requestSubmit");function i(w,y){if(!(w instanceof HTMLFormElement))throw new TypeError("The specified element is not of type HTMLFormElement.");if(!(y instanceof HTMLElement))throw new TypeError("The specified element is not of type HTMLElement.");if(y.type!=="submit")throw new TypeError("The specified element is not a submit button.");if(!w||w!==y.form)throw new Error("The specified element is not owned by the form element.")}a(i,"checkButtonValidity");function d(w,y){if(typeof y=="boolean")if(w instanceof HTMLInputElement)w.checked=y;else throw new TypeError("only checkboxes can be set to boolean value");else{if(w.type==="checkbox")throw new TypeError("checkbox can't be set to string value");w.value=y}l(w,"change",!1)}a(d,"changeValue");function S(w,y){for(const T in y){const n=y[T],h=w.elements.namedItem(T);(h instanceof HTMLInputElement||h instanceof HTMLTextAreaElement)&&(h.value=n)}}a(S,"fillFormValues");function m(w){if(!(w instanceof HTMLElement))return!1;const y=w.nodeName.toLowerCase(),T=(w.getAttribute("type")||"").toLowerCase();return y==="select"||y==="textarea"||y==="input"&&T!=="submit"&&T!=="reset"||w.isContentEditable}a(m,"isFormField");function b(w){return new URLSearchParams(w)}a(b,"searchParamsFromFormData");function C(w,y){const T=new URLSearchParams(w.search),n=b(y);for(const[h,L]of n)T.append(h,L);return T.toString()}a(C,"combineGetFormSearchParams");function O(w){return b(new FormData(w)).toString()}a(O,"serialize")},2699:(x,_,u)=>{u.d(_,{P:()=>g,t:()=>f});function g(l){const c=[...l.querySelectorAll("meta[name=html-safe-nonce]")].map(i=>i.content);if(c.length<1)throw new Error("could not find html-safe-nonce on document");return c}a(g,"getDocumentHtmlSafeNonces");class p extends Error{constructor(c,i){super(`${c} for HTTP ${i.status}`);this.response=i}}a(p,"ResponseError");function f(l,c,i=!1){const d=c.headers.get("content-type")||"";if(!i&&!d.startsWith("text/html"))throw new p(`expected response with text/html, but was ${d}`,c);if(i&&!(d.startsWith("text/html")||d.startsWith("application/json")))throw new p(`expected response with text/html or application/json, but was ${d}`,c);const S=c.headers.get("x-html-safe");if(S){if(!l.includes(S))throw new p("response X-HTML-Safe nonce did not match",c)}else throw new p("missing X-HTML-Safe nonce",c)}a(f,"verifyResponseHtmlSafeNonce")},9115:(x,_,u)=>{var g=u(90420),p=Object.defineProperty,f=Object.getOwnPropertyDescriptor,l=a((i,d,S,m)=>{for(var b=m>1?void 0:m?f(d,S):d,C=i.length-1,O;C>=0;C--)(O=i[C])&&(b=(m?O(d,S,b):O(b))||b);return m&&b&&p(d,S,b),b},"__decorateClass");let c=a(class extends HTMLElement{connectedCallback(){this.control&&(this.storedInput=Array(this.control.children.length).fill("")),this.addEventListener("input",this.relayInput.bind(this)),this.addEventListener("keydown",this.relayKeydown.bind(this));const i=this.closest("details");i&&i.addEventListener("toggle",()=>{i.open&&this.source.focus()})}relayKeydown(i){if((this.isControlTab(i.target)||i.target===this.source)&&(i.key==="ArrowDown"||i.key==="Tab"))i.preventDefault(),i.stopPropagation(),this.routeCustomEvent(new CustomEvent("focus-list"));else if(i.key==="Escape"){const d=this.closest("details");d&&d.removeAttribute("open")}}isControlTab(i){return!i||!this.control?!1:Array.from(this.control.children).includes(i)}relayInput(i){if(!i.target)return;const S=i.target.value;this.routeCustomEvent(new CustomEvent("input-entered",{detail:S}))}routeCustomEvent(i){this.sinks[this.selectedIndex].dispatchEvent(i)}get selectedIndex(){if(!this.control)return 0;const i=this.control.querySelector('[aria-selected="true"]');return i?Array.from(this.control.children).indexOf(i):0}storeInput(){this.storedInput[this.selectedIndex]=this.source.value}updateInput(i){this.source.value=this.storedInput[this.selectedIndex];const d=i.detail.relatedTarget.getAttribute("data-filter-placeholder");this.source.placeholder=d,this.source.setAttribute("aria-label",d),this.notifySelected()}notifySelected(){const i=this.sinks[this.selectedIndex],d=new CustomEvent("tab-selected");i.dispatchEvent(d)}},"InputDemuxElement");l([g.fA],c.prototype,"source",2),l([g.GO],c.prototype,"sinks",2),l([g.fA],c.prototype,"control",2),c=l([g.Ih],c)},10900:(x,_,u)=>{u.d(_,{r:()=>g});function g(p,f){const l=p.createElement("template");return l.innerHTML=f,p.importNode(l.content,!0)}a(g,"parseHTML")},83956:(x,_,u)=>{u.d(_,{M:()=>p,W:()=>f});var g=u(59753);async function p(l,c=!0){const i=l.querySelectorAll('[name="codespace[location]"], [name="location"]');if(i.length===0)return;for(const b of i)if(b.value)return;const d=l.querySelector("button[type=submit]");d instanceof HTMLInputElement&&(d.disabled=!0);const S=l.getAttribute("data-codespace-locations-url");if(!S)return;const m=await f(S);if(c&&m)for(const b of i)b.value=m.current;return m}a(p,"prefetchCodespaceLocation");async function f(l){const c=await fetch(l,{headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}});if(!c.ok){const i=new Error,d=c.statusText?` ${c.statusText}`:"";throw i.message=`HTTP ${c.status}${d}`,i}return c.json()}a(f,"fetchLocationValues"),(0,g.on)("submit",".js-prefetch-codespace-location",async function(l){const c=l.currentTarget;l.preventDefault(),await p(c),c.submit()})},43452:(x,_,u)=>{u.d(_,{Z:()=>g});function g(p){var f,l;const c=(l=(f=p.head)==null?void 0:f.querySelector('meta[name="expected-hostname"]'))==null?void 0:l.content;if(!c)return!1;const i=c.replace(/\.$/,"").split(".").slice(-2).join("."),d=p.location.hostname.replace(/\.$/,"").split(".").slice(-2).join(".");return i!==d}a(g,"detectProxySite")},68906:(x,_,u)=>{var g=u(60785),p=u(83476);const{getItem:f,setItem:l,removeItem:c}=(0,g.Z)("localStorage",{throwQuotaErrorsOnSet:!0});var i=(n=>(n.Branch="branch",n.Tag="tag",n))(i||{});const d=a(class{constructor(n,h,L,k,A){this.knownItems=[],this.currentSearchResult=[],this.exactMatchFound=!1,this.isLoading=!0,this.fetchInProgress=!1,this.fetchFailed=!1,this.refType=n,this.selector=h,this.refEndpoint=L,this.cacheKey=k,this.nameWithOwner=A}render(){this.selector.render()}async fetchData(){try{if(!this.isLoading||this.fetchInProgress)return;if(!this.bootstrapFromLocalStorage()){this.fetchInProgress=!0,this.fetchFailed=!1;const n=await fetch(`${this.refEndpoint}?type=${this.refType}`,{headers:{Accept:"application/json"}});await this.processResponse(n)}this.isLoading=!1,this.fetchInProgress=!1,this.render()}catch{this.fetchInProgress=!1,this.fetchFailed=!0}}async processResponse(n){if(this.emitStats(n),!n.ok){this.fetchFailed=!0;return}const h=n.clone(),L=await n.json();this.knownItems=L.refs,this.cacheKey=L.cacheKey,this.flushToLocalStorage(await h.text())}emitStats(n){if(!n.ok){(0,p.b)({incrementKey:"REF_SELECTOR_BOOT_FAILED"},!0);return}switch(n.status){case 200:{(0,p.b)({incrementKey:"REF_SELECTOR_BOOTED_FROM_UNCACHED_HTTP"});break}case 304:{(0,p.b)({incrementKey:"REF_SELECTOR_BOOTED_FROM_HTTP_CACHE"});break}default:(0,p.b)({incrementKey:"REF_SELECTOR_UNEXPECTED_RESPONSE"})}}search(n){if(n===""){this.currentSearchResult=this.knownItems;return}const h=[],L=[];this.exactMatchFound=!1;let k;for(const A of this.knownItems)if(k=A.indexOf(n),!(k<0)){if(k===0){n===A?(L.unshift(A),this.exactMatchFound=!0):L.push(A);continue}h.push(A)}this.currentSearchResult=[...L,...h]}bootstrapFromLocalStorage(){const n=f(this.localStorageKey);if(!n)return!1;const h=JSON.parse(n);return h.cacheKey!==this.cacheKey||!("refs"in h)?(c(this.localStorageKey),!1):(this.knownItems=h.refs,this.isLoading=!1,(0,p.b)({incrementKey:"REF_SELECTOR_BOOTED_FROM_LOCALSTORAGE"}),!0)}async flushToLocalStorage(n){try{l(this.localStorageKey,n)}catch(h){if(h.message.toLowerCase().includes("quota")){this.clearSiblingLocalStorage(),(0,p.b)({incrementKey:"REF_SELECTOR_LOCALSTORAGE_OVERFLOWED"});try{l(this.localStorageKey,n)}catch(L){L.message.toLowerCase().includes("quota")&&(0,p.b)({incrementKey:"REF_SELECTOR_LOCALSTORAGE_GAVE_UP"})}}else throw h}}clearSiblingLocalStorage(){for(const n of Object.keys(localStorage))n.startsWith(d.LocalStoragePrefix)&&c(n)}get localStorageKey(){return`${d.LocalStoragePrefix}:${this.nameWithOwner}:${this.refType}`}},"_SearchIndex");let S=d;S.LocalStoragePrefix="ref-selector";var m=u(69567),b=u(90420),C=u(17945),O=Object.defineProperty,w=Object.getOwnPropertyDescriptor,y=a((n,h,L,k)=>{for(var A=k>1?void 0:k?w(h,L):h,I=n.length-1,M;I>=0;I--)(M=n[I])&&(A=(k?M(h,L,A):M(A))||A);return k&&A&&O(h,L,A),A},"__decorateClass");let T=a(class extends HTMLElement{constructor(){super(...arguments);this.isCurrentVisible=!1,this.currentSelectionIndex=null,this.handleWindowResize=()=>{if(!this.virtualizedList)return;const n=this.isMobileViewport,h=this.windowHeight;this.updateViewportSize();const L=n!==this.isMobileViewport,k=h!==this.windowHeight;if(L){this.virtualizedList.destroy(),this.setupVirtualizedList();return}!this.isMobileViewport||!k||(this.listContainer.style.maxHeight=`${this.listHeight}px`,this.virtualizedList.resize(this.listHeight))},this.windowResized=()=>{this.resizeAnimationRequest&&cancelAnimationFrame(this.resizeAnimationRequest),this.resizeAnimationRequest=requestAnimationFrame(this.handleWindowResize)}}connectedCallback(){window.addEventListener("resize",this.windowResized),this.refType=this.getRequiredAttr("type")==="branch"?i.Branch:i.Tag;const n=this.getAttribute("current-committish");this.currentCommittish=n?atob(n):null,this.input=this.hasAttribute("initial-filter")&&this.currentCommittish||"",this.defaultBranch=atob(this.getRequiredAttr("default-branch")),this.nameWithOwner=atob(this.getRequiredAttr("name-with-owner")),this.canCreate=this.hasAttribute("can-create"),this.prefetchOnMouseover=this.hasAttribute("prefetch-on-mouseover");const h=this.getRequiredAttr("query-endpoint"),L=this.getRequiredAttr("cache-key");this.index=new S(this.refType,this,h,L,this.nameWithOwner),this.updateViewportSize(),this.setupFetchListeners()}disconnectedCallback(){this.resizeAnimationRequest&&cancelAnimationFrame(this.resizeAnimationRequest),window.removeEventListener("resize",this.windowResized)}updateViewportSize(){this.isMobileViewport=window.innerWidth<544,this.windowHeight=window.innerHeight}inputEntered(n){this.input=n.detail,this.render()}tabSelected(){this.index.fetchData()}renderTemplate(n,h){return new m.R(n,h,m.XK)}renderRow(n){const h=this.index.currentSearchResult[n];if(!h&&n>=this.listLength)return document.createElement("span");if(this.index.fetchFailed)return this.renderTemplate(this.fetchFailedTemplate,{index:n,refName:this.input});if(!h){const M=this.input===this.currentCommittish;return this.isCurrentVisible||(this.isCurrentVisible=M),this.renderTemplate(this.noMatchTemplate,{index:n,isCurrent:M,refName:this.input})}const L=this.input.length>0,k=L?"is-filtering":"",A=h===this.currentCommittish;this.isCurrentVisible||(this.isCurrentVisible=A);const I=this.renderTemplate(this.itemTemplate,{refName:h,index:n,isFilteringClass:k,urlEncodedRefName:this.urlEncodeRef(h),isCurrent:A,isNotDefault:h!==this.defaultBranch});if(L){const M=I.querySelector("span");M.textContent="";const H=h.split(this.input),U=H.length-1;for(let q=0;q<H.length;q++){const $=H[q];if(M.appendChild(document.createTextNode($)),q<U){const V=document.createElement("b");V.textContent=this.input,M.appendChild(V)}}}return I}urlEncodeRef(n){return encodeURIComponent(n).replaceAll("%2F","/").replaceAll("%3A",":").replaceAll("%2B","+")}render(){if(this.currentSelectionIndex=null,!this.index.isLoading){if(!this.virtualizedList){this.index.search(this.input),this.setupVirtualizedList();return}this.listContainer.scrollTop=0,this.index.search(this.input),this.virtualizedList.setRowCount(this.listLength)}}get listHeight(){return this.isMobileViewport?this.windowHeight*.3:330}get listLength(){const n=this.index.currentSearchResult.length;return this.showCreateRow?n+1:n||1}get showCreateRow(){return!this.index.fetchFailed&&!this.index.exactMatchFound&&this.input!==""&&this.canCreate}getRequiredAttr(n,h=this){const L=h.getAttribute(n);if(!L)throw new Error(`Missing attribute for ${h}: ${n}`);return L}setupFetchListeners(){const n=this.closest("details");let h=!1;const L=a(()=>{h||(this.index.fetchData(),h=!0)},"fetch");if(!n||n.open){L();return}this.prefetchOnMouseover&&n.addEventListener("mouseover",L,{once:!0}),this.addEventListener("keydown",this.keydown),this.addEventListener("change",this.updateCurrent);const k=n.querySelector("input[data-ref-filter]");k&&(k.addEventListener("input",()=>{this.input=k.value,this.render()}),k.addEventListener("keydown",A=>{if(A.key==="ArrowDown"||A.key==="Tab")A.preventDefault(),A.stopPropagation(),this.focusFirstListMember();else if(A.key==="Enter"){let I=this.index.currentSearchResult.indexOf(this.input);if(I===-1)if(this.showCreateRow)I=this.listLength-1;else return;n.querySelector(`[data-index="${I}"]`).click(),A.preventDefault()}}))}focusFirstListMember(){!this.virtualizedList||(this.currentSelectionIndex=0,this.focusItemAtIndex(this.currentSelectionIndex))}updateCurrent(n){n.target instanceof HTMLInputElement&&n.target.checked&&n.target.value&&(this.currentCommittish=n.target.value)}keydown(n){if(this.currentSelectionIndex!==null){if(n.key==="Enter"){const h=document.activeElement;if(!h)return;h.click(),n.preventDefault();return}if(!(n.key==="Tab"&&n.shiftKey)&&n.key!=="Escape")switch(n.preventDefault(),n.stopPropagation(),n.key){case"ArrowUp":{this.currentSelectionIndex--,this.currentSelectionIndex<0&&(this.currentSelectionIndex=this.listLength-1),this.focusItemAtIndex(this.currentSelectionIndex);break}case"Home":{this.currentSelectionIndex=0,this.focusItemAtIndex(this.currentSelectionIndex);break}case"End":{this.currentSelectionIndex=this.listLength-1,this.focusItemAtIndex(this.currentSelectionIndex);break}case"Tab":case"ArrowDown":{this.currentSelectionIndex++,this.currentSelectionIndex>this.listLength-1&&(this.currentSelectionIndex=0),this.focusItemAtIndex(this.currentSelectionIndex);break}}}}focusItemAtIndex(n){this.virtualizedList.scrollToIndex(n,"center"),setTimeout(()=>{const h=this.listContainer.querySelector(`[data-index="${n}"]`);h&&h.focus()},20)}setupVirtualizedList(){this.listContainer.innerHTML="",this.listContainer.style.maxHeight=`${this.listHeight}px`,this.virtualizedList=new C.Z(this.listContainer,{height:this.listHeight,rowCount:this.listLength,renderRow:this.renderRow.bind(this),rowHeight:n=>{const h=this.isMobileViewport?54:33;return this.showCreateRow&&n===this.listLength-1?51:h},onRowsRendered:()=>{var n;this.hiddenCurrentElement&&(this.listContainer.removeChild(this.hiddenCurrentElement),delete this.hiddenCurrentElement),this.isCurrentVisible?this.isCurrentVisible=!1:this.hiddenCurrentItemTemplate&&(this.hiddenCurrentElement=document.createElement("div"),(n=this.hiddenCurrentElement)==null||n.appendChild(this.renderTemplate(this.hiddenCurrentItemTemplate,{refName:this.currentCommittish})),this.listContainer.appendChild(this.hiddenCurrentElement))},initialIndex:0,overscanCount:6}),this.virtualizedList.resize.bind(this.virtualizedList)}},"RefSelectorElement");y([b.fA],T.prototype,"listContainer",2),y([b.fA],T.prototype,"itemTemplate",2),y([b.fA],T.prototype,"noMatchTemplate",2),y([b.fA],T.prototype,"fetchFailedTemplate",2),y([b.fA],T.prototype,"hiddenCurrentItemTemplate",2),T=y([b.Ih],T)},90137:(x,_,u)=>{u.d(_,{j:()=>g,u:()=>p});function g(f){const l=f.closest("form");if(!(l instanceof HTMLFormElement))return;let c=p(l);if(f.name){const i=f.matches("input[type=submit]")?"Submit":"",d=f.value||i;c||(c=document.createElement("input"),c.type="hidden",c.classList.add("is-submit-button-value"),l.prepend(c)),c.name=f.name,c.value=d}else c&&c.remove()}a(g,"persistSubmitButtonValue");function p(f){const l=f.querySelector("input.is-submit-button-value");return l instanceof HTMLInputElement?l:null}a(p,"findPersistedSubmitButtonValue")},60785:(x,_,u)=>{u.d(_,{Z:()=>p});class g{getItem(){return null}setItem(){}removeItem(){}clear(){}key(){return null}get length(){return 0}}a(g,"NoOpStorage");function p(f,l={throwQuotaErrorsOnSet:!1},c=window){let i;try{i=c[f]}catch{i=new g}const{throwQuotaErrorsOnSet:d}=l;function S(C){try{return i.getItem(C)}catch{return null}}a(S,"getItem");function m(C,O){try{i.setItem(C,O)}catch(w){if(d&&w.message.toLowerCase().includes("quota"))throw w}}a(m,"setItem");function b(C){try{i.removeItem(C)}catch{}}return a(b,"removeItem"),{getItem:S,setItem:m,removeItem:b}}a(p,"safeStorage")},83476:(x,_,u)=>{u.d(_,{b:()=>l});var g=u(43452),p=u(34782);let f=[];function l(m,b=!1){m.timestamp===void 0&&(m.timestamp=new Date().getTime()),m.loggedIn=S(),m.bundler="webpack",f.push(m),b?d():i()}a(l,"sendStats");let c=null;async function i(){await p.C,c==null&&(c=window.requestIdleCallback(d))}a(i,"scheduleSendStats");function d(){var m,b;if(c=null,!f.length||(0,g.Z)(document))return;const C=(b=(m=document.head)==null?void 0:m.querySelector('meta[name="browser-stats-url"]'))==null?void 0:b.content;if(!C)return;const O=JSON.stringify({stats:f});try{navigator.sendBeacon&&navigator.sendBeacon(C,O)}catch{}f=[]}a(d,"flushStats");function S(){var m,b;return!!((b=(m=document.head)==null?void 0:m.querySelector('meta[name="user-login"]'))==null?void 0:b.content)}a(S,"isLoggedIn"),document.addEventListener("pagehide",d),document.addEventListener("visibilitychange",d)}},x=>{var _=a(g=>x(x.s=g),"__webpack_exec__");x.O(0,[5724,90,3878],()=>_(79535));var u=x.O()}]);})();

//# sourceMappingURL=codespaces-a788bc318bde.js.map