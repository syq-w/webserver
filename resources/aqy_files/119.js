(window.webpackJsonp=window.webpackJsonp||[]).push([[119],{530:function(t,e,n){"use strict";n.r(e);var r=n(993).a,o=n(16),component=Object(o.a)(r,(function(){var t=this.$createElement,e=this._self._c||t;return e("transition",[e("I71PcwHeader",{attrs:{"is-server":this.isServer,"page-uid":this.pageUid,cid:this.cid,"search-key":this.searchKey}})],1)}),[],!1,null,null,null);e.default=component.exports},993:function(t,e,n){"use strict";(function(t){n(140);var r=n(2),o=n.n(r),c=(n(20),n(4)),d=n(143),h=n(141);e.a={name:"I71Header",props:{pageUid:{type:String,default:""},cid:{type:String,default:"-1"},searchKey:{type:String,default:""}},data:function(){return{isServer:!1}},computed:{hasLogin:function(){return this.$store.state.loginUser.hasLogin}},watch:{hasLogin:{immediate:!0,handler:function(t){t?this.getAdStatus():this.adStatusCookie(!0)}}},mounted:function(){this.initHeadersdkEvent()},methods:{adStatusCookie:function(e,n){var r={upd:e,ct:n?Object(h.c)():""};r=JSON.stringify(r),t.$cookie.set("QC175",r,{path:"/",domain:"iqiyi.com",expires:2592e5})},isNeedRquestAd:function(){var e=t.$cookie.get("QC175")||"";return!e||!JSON.parse(e).ct},getAdStatus:function(){var t=this;return Object(c.a)(o.a.mark((function e(){var n,r,c,h,f,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={agentType:1,props:"upd"},r="0",c=!0,t.isNeedRquestAd()){e.next=5;break}return e.abrupt("return",!1);case 5:return e.next=7,d.a.getUserPrefInfo(n);case 7:"A00000"===(h=e.sent).code&&(f=h.data||{},u=f.upd||{},r=u.value||"0",c="0"===r),t.adStatusCookie(c,!0);case 10:case"end":return e.stop()}}),e)})))()},initHeadersdkEvent:function(){var t=this;window.addEventListener("message",(function(e){e.origin!==window.location.href.match(/^[\w]+:\/\/[^/]+/)[0]&&"http://www.iqiyi.com"!==e.origin&&"https://www.iqiyi.com"!==e.origin&&"http://passport.iqiyi.com"!==e.origin&&"https://passport.iqiyi.com"!==e.origin||("login"===e.data.type&&t.$store.commit("loginUser/setLogin",[!0,!0]),"logout"===e.data.type&&t.$store.commit("loginUser/setLogin",[!1,!0]))}),!1)}}}}).call(this,n(14))}}]);